<div class="container">
  <div class="wrap">
    <div id="tab">

      <!-- ------------------------- gestion des onglets ------------------------- -->

      <div class="tab">
        <a [routerLink]="'/administration/users'" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
          (click)="'tab' == 'user'">Utilisateurs
        </a>
        <a [routerLink]="'/administration/departement'" routerLinkActive="active"
          [routerLinkActiveOptions]="{exact: true}" (click)="setRoute('department')">Departements
        </a>
        <a [routerLink]="'/administration/activities'" routerLinkActive="active"
          [routerLinkActiveOptions]="{exact: true}" (click)="'tab' == 'activity'">Activités
        </a>
      </div>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ------------------------- gestion des create -------------------------- -->

      <!-- -------------------------------- user --------------------------------- -->

      <fa-icon [icon]="faAdd" class="faAdd" *ngIf="router.url === '/administration/users'" (click)="hidden()"></fa-icon>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ----------------------------- departement ----------------------------- -->

      <fa-icon [icon]="faAdd" class="faAdd" *ngIf="router.url === '/administration/departement'" (click)="hidden()">
      </fa-icon>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ------------------------------ activity ------------------------------- -->

      <fa-icon [icon]="faAdd" class="faAdd" *ngIf="router.url === '/administration/activities'" (click)="hidden()">
      </fa-icon>
      <!-- ----------------------------------------------------------------------- -->


      <!-- ----------------------------------------------------------------------- -->


    </div>

    <div class="content">

      <!-- ------------------------- gestion des titres -------------------------- -->

      <!-- -------------------------------- user --------------------------------- -->

      <div class="titleListe titleListe_user" *ngIf="router.url === '/administration/users'">
        <!-- <div class=" number" (click)="sort('id')">#
        </div> -->
        <div (click)="sort('firstName')">Nom <fa-icon *ngIf="order =='firstName'" [icon]="sensFname? up : down"
            class="down">
          </fa-icon>
        </div>
        <div (click)="sort('role')">Rôle <fa-icon *ngIf="order =='role'" [icon]="sensRole? up : down" class="down">
          </fa-icon>
        </div>
        <div (click)="sort('department')">Dép. <fa-icon *ngIf="order =='department'" [icon]="sensDep? up : down"
            class="down">
          </fa-icon>
        </div>
        <!-- <div>Activités</div> -->
        <div>Editer</div>
        <!-- <div>Supp</div> -->
      </div>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ----------------------------- departement ----------------------------- -->

      <div class="titleListe  titleListe_dep" *ngIf="router.url === '/administration/departement'">

        <div (click)="sort('name')">Nom <fa-icon *ngIf="order =='name'" [icon]="sensName? up : down" class="down">
          </fa-icon>
        </div>


        <div (click)="sort('responsibleId')">Responsable <fa-icon *ngIf="order =='responsibleId'"
            [icon]="sensRes? up : down" class="down">
          </fa-icon>

        </div>
        <div>Editer</div>
        <!-- <div>Supp</div> -->
      </div>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ------------------------------ Activity ------------------------------- -->

      <div class="titleListe  titleListe_activity" *ngIf="router.url === '/administration/activities'">
        <!-- <div class="number">#</div> -->
        <div (click)="sort('name')">Nom <fa-icon *ngIf="order =='name'" [icon]="sensName? up : down" class="down">
          </fa-icon>
        </div>
        <div>Couleur</div>

        <div (click)="sort('chef')">Chef de projet <fa-icon *ngIf="order =='chef'" [icon]="sensChef? up : down"
            class="down">
          </fa-icon>
        </div>
        <div (click)="sort('type')">type <fa-icon *ngIf="order =='type'" [icon]="sensType? up : down" class="down">
          </fa-icon>
        </div>
        <div (click)="sort('status')">Status
          <fa-icon *ngIf="order =='status'" [icon]="sensStatus? up : down" class="down">
          </fa-icon>
        </div>

        <div>Editer</div>
        <!-- <div>Supp</div> -->
      </div>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ----------------------------------------------------------------------- -->


      <!-- ------------------------- gestion des listes -------------------------- -->

      <!-- -------------------------------- User --------------------------------- -->

      <ul *ngIf="router.url === '/administration/users'" data-simplebar class="ul_user">
        <li *ngFor="let u of user | orderBy: order : sens : true; let index = index;let even = even; let odd = odd "
          [ngClass]="{ odd: odd, even: even }">
          <div style="text-transform: capitalize; " [id]="u.id"><span>{{u.lastName}}</span>{{u.firstName}} </div>
          <div>{{u.role}}</div>
          <div>{{u.department}}.</div>
          <div>
            <a [routerLink]="['/administration/users/', u.id]" routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: true}">
              <fa-icon [icon]="faEdit" class="faEdit"></fa-icon>
            </a>
            <a (click)="popUpDeleted($event, u)">
              <!-- <a (click)="deleteUsers(u.id)"> -->
              <fa-icon [icon]="faTrash" class="faTrash"></fa-icon>
            </a>
          </div>

        </li>

      </ul>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ----------------------------- Departement ----------------------------- -->

      <ul *ngIf="router.url === '/administration/departement'" data-simplebar class="ul_dep">
        <li *ngFor="let d of dep | orderBy: order : sens : true; let index = index;let even = even; let odd = odd"
          [ngClass]="{ odd: odd, even: even } ">
          <!-- <div class="number">{{index + 1}}</div> -->
          <div style="text-transform: capitalize; ">{{d.name}}</div>
          <!-- <div>{{d.department}}.</div> -->
          <div>{{d.responsibleId}}</div>
          <div>
            <a [routerLink]="['/administration/departement', d.id]">
              <fa-icon [icon]="faEdit" class="faEdit">
              </fa-icon>
            </a>
            <a (click)="popUpDeleted($event, d)">
              <!-- <a (click)="deleteDep(d.id)"> -->
              <fa-icon [icon]="faTrash" class="faTrash"></fa-icon>
            </a>
          </div>
        </li>
      </ul>
      <!-- ----------------------------------------------------------------------- -->

      <!-- ------------------------------ Activity ------------------------------- -->

      <ul *ngIf="router.url === '/administration/activities'" data-simplebar class="ul_activity">
        <li *ngFor="let a of act | orderBy: order : sens : true; let index = index;let even = even; let odd = odd"
          [ngClass]="{ odd: odd, even: even }">
          <!-- <div class="number">{{index + 1}}</div> -->
          <div style="text-transform: capitalize; ">{{a.name}}</div>
          <div class="color">
            <span class="color_span"></span>
          </div>

          <div>{{a.chef}}</div>
          <div>{{a.parent}}</div>
          <div>{{a.status}}</div>
          <div>
            <a [routerLink]="['/administration/activities/', a.id]" routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: true}">
              <fa-icon [icon]="faEdit" class="faEdit"></fa-icon>
            </a>
            <a (click)="popUpDeleted($event, a)">
              <!-- <a (click)="deleteAct(a.id)"> -->
              <fa-icon [icon]="faTrash" class="faTrash"></fa-icon>
            </a>
          </div>

        </li>
      </ul>
      <!-- ----------------------------------------------------------------------- -->



      <!-- ----------------------------------------------------------------------- -->

    </div>



  </div>
</div>

<!-- ------------------------- gestion des pop-up -------------------------- -->

<create-user *ngIf="router.url === '/administration/users' && !isHidden" [isHidden]="isHidden"
  (reset)="isHidden = !isHidden"></create-user>

<create-departement *ngIf="router.url === '/administration/departement' && !isHidden" [isHidden]="isHidden"
  (reset)="isHidden = !isHidden"></create-departement>

<create-activity *ngIf="router.url === '/administration/activities' && !isHidden" [isHidden]="isHidden"
  (reset)="isHidden = !isHidden">
</create-activity>

<!-- ----------------------------------------------------------------------- -->

<!-- -------------------------- gestion supprimer -------------------------- -->

<confirm-delete [hidden]="isDelete" [isDelete]="isDelete" (reset)="refresh()" [itemToDelete]="itemToDelete">
</confirm-delete>

<!-- ----------------------------------------------------------------------- -->

<!-- --------------------------- gestion nexprev --------------------------- -->

<div class="next_prev" *ngIf="router.url === '/administration/users'">
  <select ngModel required name="nbre" id="nbre" (click)="changeNbre()">
    <option *ngFor="let nb of nbreArray" [value]="nb.pageUrl">{{ nb.numb }}</option>
  </select>
  <button (click)="firstpage()" *ngIf="firstPage != undefined">Première page </button>
  <button (click)="previouspage()" *ngIf="firstPage != undefined">précédent</button>
  <button (click)="nextpage()" *ngIf="lastPage != undefined">suivant</button>
  <button (click)="lastpage()" *ngIf="lastPage != undefined">Dernière page</button>
  <div class="next_prev_info">
    <a href="https://forge.cetic.be/login?back_url=https%3A%2F%2Fforge.cetic.be%2Fprojects%2Fmission-timetrack
    Redmine@CETIC" target="_blank">> Suggestion ? </a>

  </div>

</div>

<!-- ----------------------------------------------------------------------- -->

<div class="info" *ngIf="router.url != '/administration/users'">
  <a href="https://forge.cetic.be/login?back_url=https%3A%2F%2Fforge.cetic.be%2Fprojects%2Fmission-timetrack
  Redmine@CETIC" target="_blank">> Suggestion ? </a>

</div>
